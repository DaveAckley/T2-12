{8}  -*- text -*- 
[0:

Wed Jun 26 14:46:30 2019 Hmm, so looks like I lost some stuff on a
disk corruption, ick.  Wondering if I should move the keymaster while
I still have a chance.  I was talking about revising the design of the
T2-12 repo, or at least revisiting it.

[1:

Wed Jun 26 14:47:10 2019 But here's a bit of rescued text from the
file I started a while ago, once I noticed the FS had gone read-only
underneath me:

[2:

Among the issues:

1. We are using 'make cdmd' to build tgz-inside-of-mfz files to
   distribute updates to the grid.  cdm bulk transfer is way slow,
      like 9600 baud slow, so it would be better if such updates are
   not
      too huge.

2. In particular, cdmd-MFM.mfz is almost 10MB.

3. We need to actually IMPLEMENT cdm-deleteds.mfz, for example we stop
   trying to push the old-format 'cdm-distribu-*.mfz' files around!

4. We tried to speed this up by having a minimized 'cdmd-devbins.mfz'
   file, that just includes the 'important executable binaries'.[3:
   Wed Jun 26 14:55:15 2019 But any time there's more than one
   cdmd-X.mfz that includes a given file, that creates a race for that
   file since we have no way to express inter-cdmd-X.mfz dependencies,
   so whichever gets installed last wins.

5. Also, we have lots of files that are not inside T2-12, but are
   essential to tile functioning.  Most particularly including MFM and
   ULAM on the one hand, and tslib-1.20 for the touchscreen on the
   other hand.

:3]

:2]

:1]

:0]
[4:

Thu Jun 27 04:47:32 2019 OK, so we need to refresh and revisit our
make-an-image process, and.. make a new image..  Goals of the image:

 - Updated T2-12 and MFM.

 - Kill MFMTMP, it should not be needed anymore

 - Kill GFB ditto

 - Auto install of the T2-12 extras.  Does that already happen?

 - tslib-1.20 installed with a default configured pointercal

 - Current pubkey for cdm

 - Prepopulate /cdm/common?  Does that help?

 - Automate all of the above.  

:4]
[5:

Fri Jun 28 01:17:15 2019 OK, so another design issue here is that a
chunk of the disk-image-generating workflow is not in T2-12, it's just
sitting in scripts and notes in hardware/T2-Tile-Project/DISK_IMAGES .
So that's not great.

But, inside DISK_IMAGES/images/InitT2Image.pl, there is a here-doc
that becomes '/root/T2-12-root-seed.sh' in the created image.

At the moment, that seed installs T2-12 from the github repo, but
that's it.  Seems like that's an opportune place to do the
/home/t2/GITHUB packages as well.  Hmm, in particular, because after
the T2-12 install, we'll have T2-12/extra, which contains the .tgz's
we want to use.[6:

Fri Jun 28 01:26:32 2019 Now, T2-12/extra currently has
MFM20190211SIG.tgz in it, which we clearly can't want to be
installing.  Do we want to use a cdmd-created tgz instead -- I guess,
specifically, our CDM-TGZS-BACKUP/CDM-TGZS/MFM-built.tgz ?

And again, isn't a better way to do that, to prepopulate /cdm/common
with the version of, say, cdmd-MFM.mfz that we like?   And let it get
installed by cdm.pl during the running of the seed?  Could we really
go that far?[7:

Fri Jun 28 01:32:16 2019 So suppose we:

 1 - Make a 'release' (Series F?) of cdmd stuff.  Specifically T2-12,
     MFM, and ULAM.  (Or not ulam?  Don't expect to compile on the
     grid?)

 2 - Collect not just the X-built.tgzs but also the cdmd-X.mfzs
     ..somewhere.  Actually let's just set up a staging CDM-COMMON dir
     that we update from the keymaster then clean up however we like.

 3 - Could 

:7]

:6]

:5]
